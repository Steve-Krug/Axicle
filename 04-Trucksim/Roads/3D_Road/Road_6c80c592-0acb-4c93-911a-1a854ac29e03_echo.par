PARSFILE
! VS Road Calculator
! Utility to calculate road and path coordinates for visualization
! Revision 192897, December 7, 2022

TITLE I-94 North, Near Exit 172 (Basic) <Atlas Map Downloads>

! Echo: Roads\3D_Road\Road_6c80c592-0acb-4c93-911a-1a854ac29e03_echo.par
! This run was made 17:37 on April 04, 2023.

!------------------------------------------------------------------------------------
! SYSTEM PARAMETERS (SIMULATION OPTIONS)
!------------------------------------------------------------------------------------
! [I] indicates that changing the parameter via an Event triggers an initialization.
! [L] indicates that the parameter is locked once the simulation starts.

ID_EVENT            0 ; - ! ID number that can be assigned to the current event
ID_RUN              0 ; - ! ID number that can be assigned to a simulation run
OPT_ALL_WRITE       0 ! Write all outputs to file? 1 -> all, 0 -> only activated
                      ! outputs
OPT_ECHO_DEFAULT    2 ! Show values that were not set by reading from a file? 1 ->
                      ! show with [D] indicator, 0 -> show without [D], 2 -> do not
                      ! show the property at all
OPT_ERROR_DIALOG    0 ! Show pop-up dialog box if fatal error occurs: 1 -> yes
                      ! (normal use), 0 -> no (for batch runs)
OPT_WRITE           0 ; - ! Write outputs when T > TSTART_WRITE? 1 -> write, 0 ->
                      ! don't write; change this using VS Commands or Events
TSTART          17.92 ; s ! Starting time for the simulation clock
TSTEP            0.04 ; s ! Time step for numerical integration [L]
TSTOP         17.9196 ; s ! Stop when this time is reached
! T_DT           0.04 ; s ! CALC -- Time increment between calculations

!------------------------------------------------------------------------------------
! SYSTEM CONSTANTS
!------------------------------------------------------------------------------------

!------------------------------------------------------------------------------------
! REFERENCE PATHS
!------------------------------------------------------------------------------------
! Up to 500 reference paths may be installed to provide station-based coordinate
! systems used to define 3D road surfaces, targets for the driver model, and
! positions of moving objects. In addition to the parameters shown in this section,
! the paths may include spline X-Y tables (keyword = SEGMENT_XY_TABLE).

! NPATH             1 ! Number of installed paths available for roads, driver model,
                      ! and moving objects (read only)
DEFINE_PATHS        1 ! VS Command to install reference paths

PATH_ID(1)       1094 ! ID number for this Reference Path
OPT_PATH_START(1)   0 ! Set initial heading and X-Y coordinates of the path? 0 -> no
                      ! (legacy, using table data), 1 -> yes
OPT_PATH_LOOP(1)    0 ! Is this path looped? 0 -> no, 1 -> yes
SPATH_START(1)      0 ; m ! Station at the start of this path
! HEADING_START(1) 87.15853327 ; deg ! Heading at the start of this path

NSEGMENTS(1)        1 ! Number of segments in this path
SEGMENT_TYPE(1,1)   1 ! 0 -> straight, 1 -> table, 2 -> rho, 3 -> radius, 4 -> cloth
XY_SEGMENT_ID(1,1)  1 ! XY_TABLE_ID number of spline table [I]
! S_SEGMENT_END(1,1) 2313.747278 ; m ! CALC -- Station at end of this segment
! X_SEGMENT_END(1,1) -756.524693 ; m ! CALC -- X coordinate at end of segment
! Y_SEGMENT_END(1,1) 1819.466219 ; m ! CALC -- Y coordinate at end of segment
! HEADING_END(1,1) 165.6808935 ; deg ! CALC -- Heading at end of segment
DEFINE_XY_TABLES    1 ! No. of XY spline tables (see the SPLINE TABLES section)

!------------------------------------------------------------------------------------
! ROAD SURFACES
!------------------------------------------------------------------------------------
! Road surfaces define elevation Z and friction MU as functions of global X and Y
! coordinates, using a station-based coordinate system defined with a Reference
! Path. Up to 200 surfaces may be installed to represent sections, intersections,
! multiple lanes, etc. The Z, MU, and RR_SURF values for a road surface are
! provided with Configurable Functions MU_ROAD, ROAD_DZ, RR_SURF, and ROAD_ZS.
! Boundaries that control automatic switching from one road surface to another make
! use of the Configurable Functions ROAD_L_BOUNDARY, ROAD_NEW_ID, and ROAD_NEW_S.

! NROAD             1 ! Number of installed road surfaces (read only)
DEFINE_ROADS        1 ! VS Command to define road surfaces

ROAD_PATH_ID(1)  1094 ! PATH_ID of reference path used for this road [I]

!------------------------------------------------------------------------------------
! START AND STOP INFORMATION FOR PATH
!------------------------------------------------------------------------------------
PATH_ID_DM       1094 ! PATH_ID of reference path for the driver and vehicle [I]
OPT_DIRECTION       1 ! Travel direction along path PATH_ID_DM: 0 -> set to 1 or -1
                      ! using SSTART and SSTOP values (legacy); 1 -> increasing
                      ! station, -1 -> decreasing station [I]

!------------------------------------------------------------------------------------
! CONFIGURABLE FUNCTIONS
!------------------------------------------------------------------------------------

! MU_ROAD: 2D function that calculates MU as a function of lateral position and
! station

MU_ROAD_CONSTANT(1) 0.85 ; - ! MU component due to station
MU_ROAD_COMBINE(1) ADD ! How to combine the two components
MU_ROAD_L_CONSTANT(1) 0 ; - ! MU component due to lateral position

! ROAD_NEW_ID: Function that calculates ID from S

! ROAD_ZS: Function that calculates elevation from station

! Col 1 = station (m), col 2 = elevation (m)
ROAD_ZS_TABLE(1) SPLINE_FLAT ! spline interpolation, flat-line extrapolation
 0, 0
 931.738314, -1.281433
 972.445525, -1.368439
 1049.335169, -1.492004
 1099.087754, -1.586823
 1216.68501, -1.786713
 1248.345117, -1.936493
 1280.00752, -2.367249
 1356.827785, -3.516724
 1388.502626, -4.120758
 1411.129035, -4.64389
 1415.651675, -4.749756
 1447.335441, -5.613678
 1492.604756, -6.809509
 1524.301654, -7.580505
 1537.885268, -7.843903
 1614.891871, -9.285156
 1660.216651, -9.845337
 1687.409874, -10.078094
 1705.546358, -10.170807
 1737.291436, -10.366486
 1764.506246, -10.430634
 1796.260291, -10.446045
 1800.792955, -10.451233
 1828.019678, -10.48642
 1859.787148, -10.535828
 1877.941832, -10.547333
 1905.176842, -10.611053
 2313.747278, -11.222443
ENDTABLE

! RR_SURF: 2D function that calculates RR_SURF as a function of lateral position and
! station

RR_SURF_CONSTANT(1) 1 ; - ! RR_SURF component due to station

!------------------------------------------------------------------------------------
! SPLINE X-Y TABLES FOR PATH SEGMENTS
!------------------------------------------------------------------------------------
! Following are up to 500 tables of X-Y global coordinates used to make spline
! segments for reference paths. Tables are listed here only if used in a path. If
! indices shown below are not used, e.g., SEGMENT_XY_TABLE(1), the current value
! of the index ITAB_XY is used to identify the table when reading data.

! NTAB_XY 1 ! CALC -- Current number of XY spline tables for path segments

XY_TABLE_ID(1)      1 ! ID number for spline table segment
SEGMENT_XY_TABLE(1) ! table with X (m), Y (m), and calculated station S (m)
 0, 0, 0
 46.1887, 930.5928, 931.738
 47.7804, 971.2688, 972.446
 47.85, 1048.1585, 1049.335
 46.9435, 1097.9028, 1099.088
 42.9798, 1215.4332, 1216.685
 40.4596, 1246.9929, 1248.345
 35.3105, 1278.2338, 1280.008
 17.3299, 1352.9201, 1356.828
 6.6651, 1382.7456, 1388.503
 -1.5336, 1403.8343, 1411.129
 -3.3063, 1407.9951, 1415.652
 -16.9578, 1436.587, 1447.335
 -38.7838, 1476.2473, 1492.605
 -55.9593, 1502.8873, 1524.302
 -63.1082, 1514.4376, 1537.885
 -113.1388, 1572.9778, 1614.892
 -146.3345, 1603.8385, 1660.217
 -167.2302, 1621.2408, 1687.41
 -181.6046, 1632.3001, 1705.546
 -208.1485, 1649.712, 1737.291
 -231.4177, 1663.8254, 1764.506
 -259.153, 1679.2874, 1796.26
 -263.1829, 1681.3622, 1800.793
 -288.0227, 1692.5103, 1828.02
 -317.5528, 1704.2211, 1859.787
 -334.5949, 1710.4789, 1877.942
 -360.6472, 1718.4177, 1905.177
 -756.5247, 1819.4662, 2313.747
ENDTABLE



END
